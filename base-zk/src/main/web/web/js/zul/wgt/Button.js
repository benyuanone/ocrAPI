(function(){function c(e){var d;if(d=e._upload){e._uplder=new zul.Upload(e,null,d)}}function a(e){var d;if(d=e._uplder){e._uplder=null;d.destroy()}}var b=zul.wgt.Button=zk.$extends(zul.LabelImageWidget,{_orient:"horizontal",_dir:"normal",_type:"button",setHref:(function(d){return function(e){this[d]=e;return this}})("_href"),getHref:_zkf$=function(){return this._href},isHref:_zkf$,setTarget:(function(d){return function(e){this[d]=e;return this}})("_target"),getTarget:_zkf$=function(){return this._target},isTarget:_zkf$,setDir:(function(d,e){return function(f,g){var h=this[d];this[d]=f;if(h!==f||(g&&g.force)){this.__fname__=d.substring(1);e.apply(this,arguments);delete this.__fname__}return this}})("_dir",(_zkf=function(){this.updateDomContent_()})),getDir:_zkf$=function(){return this._dir},isDir:_zkf$,setOrient:(function(d,e){return function(f,g){var h=this[d];this[d]=f;if(h!==f||(g&&g.force)){this.__fname__=d.substring(1);e.apply(this,arguments);delete this.__fname__}return this}})("_orient",(_zkf)),getOrient:_zkf$=function(){return this._orient},isOrient:_zkf$,setType:(function(d,e){return function(f,g){var h=this[d];this[d]=f;if(h!==f||(g&&g.force)){this.__fname__=d.substring(1);e.apply(this,arguments);delete this.__fname__}return this}})("_type",(_zkf)),getType:_zkf$=function(){return this._type},isType:_zkf$,setDisabled:(function(d,e,f){return function(g,h){var i=this[d];this.__fname__=d.substring(1);this[d]=g=e.apply(this,arguments);if(i!==g||(h&&h.force)){f.apply(this,arguments)}delete this.__fname__;return this}})("_disabled",(function(d,e){if(e&&e.adbs){this._adbs=true}else{if(!e||e.adbs===undefined){this._adbs=false}}if(!d){if(this._adbs){this._adbs=false}else{if(e&&e.adbs===false){return this._disabled}}}return d}),(function(f){var e=this,d=function(){if(e.desktop){jq(e.$n()).attr("disabled",f);if(e._upload){f?a(e):c(e)}}};if(this._type=="submit"){setTimeout(d,50)}else{d()}})),getDisabled:_zkf$=function(){return this._disabled},isDisabled:_zkf$,setTabindex:(function(d,e){return function(f,g){var h=this[d];this[d]=f;if(h!==f||(g&&g.force)){this.__fname__=d.substring(1);e.apply(this,arguments);delete this.__fname__}return this}})("_tabindex",(function(d){var e=this.$n();if(e){e.tabIndex=d||""}})),getTabindex:_zkf$=function(){return this._tabindex},isTabindex:_zkf$,setAutodisable:(function(d){return function(e){this[d]=e;return this}})("_autodisable"),getAutodisable:_zkf$=function(){return this._autodisable},isAutodisable:_zkf$,setUpload:(function(d,e){return function(f,g){var h=this[d];this[d]=f;if(h!==f||(g&&g.force)){this.__fname__=d.substring(1);e.apply(this,arguments);delete this.__fname__}return this}})("_upload",(function(d){var e=this.$n();if(e&&!this._disabled){a(this);if(d&&d!="false"){c(this)}}})),getUpload:_zkf$=function(){return this._upload},isUpload:_zkf$,focus_:function(e){var f=this,d=this.$n();if(d.disabled&&!f._delayFocus){f._delayFocus=true;setTimeout(function(){f.focus_(e);f._delayFocus=null},0)}if(!zk.focusBackFix||!this._upload){zk(d).focus(e)}return true},domContent_:function(){var f=zUtl.encodeXML(this.getLabel()),d=this.getImage(),e=this.domIcon_();if(!d&&!e){return f}if(!d){d=e}else{d='<img class="'+this.$s("image")+'" src="'+d+'" />'+(e?" "+e:"")}var g="vertical"==this.getOrient()?"<br/>":" ";return this.getDir()=="reverse"?f+g+d:d+g+f},onShow:function(){if(this.$n()&&!this._disabled&&this._uplder){this._uplder.sync()}},bind_:function(){this.$supers(b,"bind_",arguments);var d=this.$n();this.domListen_(d,"onFocus","doFocus_").domListen_(d,"onBlur","doBlur_");zWatch.listen({onShow:this});if(!this._disabled&&this._upload){c(this)}},unbind_:function(){a(this);var d=this.$n();this.domUnlisten_(d,"onFocus","doFocus_").domUnlisten_(d,"onBlur","doBlur_");zWatch.unlisten({onShow:this});this.$supers(b,"unbind_",arguments)},doClick_:function(f){if(!f.domEvent){return}if(!this._disabled){if(!this._upload){zul.wgt.ADBS.autodisable(this)}else{if(!zk.ie||zk.ie>10){this._uplder.openFileDialog()}}this.fireX(f);if(!f.stopped){var g=this._href,e=g?g.toLowerCase().startsWith("mailto:"):false;if(g){if(e){var d=jq.newFrame("mailtoFrame",g,null);jq(d).remove()}else{zUtl.go(g,{target:this._target||(f.data.ctrlKey?"_blank":"")})}}this.$super("doClick_",f,true)}}},setFlexSize_:function(d){var e=this.$n();if(d.height!==undefined){if(d.height=="auto"){e.style.height=""}else{if(d.height!=""){e.style.height=jq.px0(d.height)}else{e.style.height=this._height?this._height:""}}}if(d.width!==undefined){if(d.width=="auto"){e.style.width=""}else{if(d.width!=""){e.style.width=jq.px0(d.width)}else{e.style.width=this._width?this._width:""}}}}});zul.wgt.ADBS=zk.$extends(zk.Object,{$init:function(d){this._ads=d},onResponse:function(){for(var d=this._ads,e;e=d.shift();){e.setDisabled(false,{adbs:false,skip:true})}zWatch.unlisten({onResponse:this})}},{autodisable:function(k){var f=k._autodisable,e,i;if(f){f=f.split(",");for(var d=f.length;d--;){var h=f[d].trim();if(h){var g;if(g=h.charAt(0)=="+"){h=h.substring(1)}h="self"==h?k:k.$f(h);if(h==k){i=k._uplder;k._uplder=null;k._autodisable_self=true}if(h&&!h._disabled){h.setDisabled(true,{adbs:true,skip:true});if(k.inServer){if(g){h.smartUpdate("disabled",true)}else{if(!e){e=[h]}else{e.push(h)}}}}}}}if(e){e=new zul.wgt.ADBS(e);if(i){i._aded=e;k._uplder=i}else{if(k.isListen("onClick",{asapOnly:true})){zWatch.listen({onResponse:e})}else{setTimeout(function(){e.onResponse()},800)}}}}})})();