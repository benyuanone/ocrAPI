(function(){function a(d){if(!d._tidclose){d._tidclose=setTimeout(function(){if(!d._bover){if(d._autodrop&&d.isOpen()){d.close({sendOnOpen:true})}}d._tidclose=null},200)}}function c(f,d,e){if(d&&d.sendOnOpen){f.fire("onOpen",{open:e,value:f.getLabel()},{rtags:{onOpen:1}})}}function b(i,g){if(!i._oldppclose){var e=i.firstChild;if(e){var d=jq(e),h=jq(i).width();if(d.width()<h){d.width(h-zk(e).padBorderWidth());e.fire(e.firstChild);var f=e._openInfo;if(f){e.position.apply(e,f)}}}i._oldppclose=e.close;if(g){i.domListen_(e,"onMouseOver").domListen_(e,"onMouseOut")}e.close=function(j){i._oldppclose.apply(e,arguments);c(i,j,false);if(g){i.domUnlisten_(e,"onMouseOver").domUnlisten_(e,"onMouseOut")}e.close=i._oldppclose;delete i._oldppclose}}}zul.wgt.Combobutton=zk.$extends(zul.wgt.Button,{setAutodrop:(function(d){return function(e){this[d]=e;return this}})("_autodrop"),getAutodrop:_zkf$=function(){return this._autodrop},isAutodrop:_zkf$,getZclass:function(){return"z-combobutton"},domContent_:function(){var f='<span id="'+this.uuid+'-txt" class="'+this.$s("text")+'">'+zUtl.encodeXML(this.getLabel())+"</span>",d=this.getImage(),e=this.domIcon_();if(!d&&!e){return f}if(!d){d=e}else{d='<img class="'+this.$s("image")+'" src="'+d+'" />'+(e?" "+e:"")}var g="vertical"==this.getOrient()?"<br/>":" ";return this.getDir()=="reverse"?f+g+d:d+g+f},domClass_:function(e){var d=this.$supers(zul.wgt.Combobutton,"domClass_",arguments);if(!this._isDefault()){d+=" z-combobutton-toolbar"}return d},_isDefault:function(){return this._mold=="default"},isOpen:function(){var d=this.firstChild;return d&&d.isOpen()},setOpen:function(d,e){if(!this._disabled&&!zk.animating()){this[d?"open":"close"](e||{})}},renderInner_:function(e){for(var d=this.firstChild;d;d=d.nextSibling){d.redraw(e)}},isTableLayout_:function(){return true},unbind_:function(){var d;if((d=this.firstChild)&&(d=d.$n())){this.domUnlisten_(d,"onMouseOver").domUnlisten_(d,"onMouseOut")}this.$supers("unbind_",arguments)},doFocus_:function(d){if(this==d.target){this.$supers("doFocus_",arguments)}},open:function(e){var d=this.firstChild;if(d&&!this.isOpen()){if(d.$instanceof(zul.wgt.Popup)){d.open(this.uuid,null,"after_start",e);c(this,e,true)}b(this,!d.$instanceof(zul.wgt.Menupopup))}},close:function(d){if(this.isOpen()){this.firstChild.close(d)}},doClick_:function(e){var g=e.domTarget;if(g){var f=!this.isOpen();if(this==e.target){if(this.$n("btn")==g||this.$n("icon")==g||!f){this.setOpen(f,{sendOnOpen:true})}else{this.$supers("doClick_",arguments)}}}},doMouseDown_:function(d){if(this==d.target){this.$supers("doMouseDown_",arguments)}},doMouseOver_:function(e){this._bover=true;if(this==e.target){var f=e.domTarget;if(this._autodrop&&(this.$n("btn")==f||this.$n("icon")==f)&&!this.isOpen()){this.open({sendOnOpen:true})}this.$supers("doMouseOver_",arguments)}},doMouseOut_:function(d){this._bover=false;a(this);this.$supers("doMouseOut_",arguments)},_doMouseOver:function(d){this._bover=true},_doMouseOut:function(d){this._bover=false;a(this)},ignoreDescendantFloatUp_:function(d){return d&&d.$instanceof(zul.wgt.Popup)},rerender:function(d){if(this.isOpen()){this.close()}this.$supers("rerender",arguments)}})})();