(function(){function b(e){if(e.desktop){var d=e.$n("empty"),f=0;if(e.rows&&e.rows.nChildren){d.style.display="none"}else{if(e.columns){for(var c=e.columns.firstChild;c;c=c.nextSibling){if(c.isVisible()){f++}}}d.colSpan=f||1;d.style.display="table-cell"}}e._shallFixEmpty=false}var a=zul.grid.Grid=zk.$extends(zul.mesh.MeshWidget,{_scrollbar:null,setEmptyMessage:(function(c,d){return function(e,f){var g=this[c];this[c]=e;if(g!==e||(f&&f.force)){this.__fname__=c.substring(1);d.apply(this,arguments);delete this.__fname__}return this}})("_emptyMessage",(function(c){if(this.desktop){jq(this.$n("empty")).html(c)}})),getEmptyMessage:_zkf$=function(){return this._emptyMessage},isEmptyMessage:_zkf$,getCell:function(e,c){var d;if(!(d=this.rows)){return null}if(d.nChildren<=e){return null}var e=d.getChildAt(e);return e.nChildren<=c?null:e.getChildAt(c)},getOddRowSclass:function(){return this._scOddRow==null?this.$s("odd"):this._scOddRow},setOddRowSclass:function(c){if(!c){c=null}if(this._scOddRow!=c){this._scOddRow=c;var d=this.$n();if(d&&this.rows){this.rows.stripe()}}return this},rerender:function(){this.$supers(a,"rerender",arguments);if(this.rows){this.rows._syncStripe()}return this},insertBefore:function(e,d,c){if(this.$super("insertBefore",e,d,!this.z_rod)){this._fixOnAdd(e,c,c);return true}},appendChild:function(d,c){if(this.$super("appendChild",d,!this.z_rod)){if(!this.insertingBefore_){this._fixOnAdd(d,c,c)}return true}},_fixOnAdd:function(e,d,c){if(e.$instanceof(zul.grid.Rows)){this.rows=e;this._syncEmpty()}else{if(e.$instanceof(zul.grid.Columns)){this.columns=e;this._syncEmpty()}else{if(e.$instanceof(zul.grid.Foot)){this.foot=e}else{if(e.$instanceof(zul.mesh.Paging)){this.paging=e}else{if(e.$instanceof(zul.mesh.Frozen)){this.frozen=e}}}}}if(!d){this.rerender()}if(!c){this._syncSize()}},onChildRemoved_:function(d){this.$supers("onChildRemoved_",arguments);var c;if(d==this.rows){this.rows=null;c=true;this._syncEmpty()}else{if(d==this.columns){this.columns=null;this._syncEmpty()}else{if(d==this.foot){this.foot=null}else{if(d==this.paging){this.paging=null}else{if(d==this.frozen){this.frozen=null;this.destroyBar_()}}}}}if(!c&&!this.childReplacing_){this._syncSize()}},redrawEmpty_:function(c){c.push('<tbody class="',this.$s("emptybody"),'"><tr><td id="',this.uuid,'-empty" style="display:none">',this._emptyMessage,"</td></tr></tbody>")},bind_:function(f,e,d){this.$supers(a,"bind_",arguments);var c=this;d.push(function(){b(c)})},unbind_:function(){this.destroyBar_();this.$supers(a,"unbind_",arguments)},onSize:function(){this.$supers(a,"onSize",arguments);var c=this,d=this.desktop&&!this._nativebar;if(!this._scrollbar&&d){this._scrollbar=zul.mesh.Scrollbar.init(this)}setTimeout(function(){if(d){c.refreshBar_()}},200)},destroyBar_:function(){var c=this._scrollbar;if(c){c.destroy();c=this._scrollbar=null}},onResponse:function(c,d){if(this.desktop){if(this._shallFixEmpty){b(this)}}this.$supers(a,"onResponse",arguments)},_syncEmpty:function(){this._shallFixEmpty=true},onChildAdded_:function(c){this.$supers(a,"onChildAdded_",arguments);if(this.childReplacing_){this._fixOnAdd(c,true)}},insertChildHTML_:function(g,e,f){if(g.$instanceof(zul.grid.Rows)){this.rows=g;var d=this.$n("rows");if(d){jq(d).replaceWith(g.redrawHTML_());g.bind(f);this.ebodyrows=g.$n();return}else{var c=this.$n("tpad");if(c){jq(c).after(g.redrawHTML_());g.bind(f);this.ebodyrows=g.$n();return}else{if(this.ebodytbl){jq(this.ebodytbl).append(g.redrawHTML_());g.bind(f);this.ebodyrows=g.$n();return}}}}this.rerender()},getHeadWidgetClass:function(){return zul.grid.Columns},getBodyWidgetIterator:function(c){return new zul.grid.RowIter(this,c)},hasGroup:function(){return this.rows&&this.rows.hasGroup()}})})();zul.grid.RowIter=zk.$extends(zk.Object,{$init:function(a,b){this.grid=a;this.opts=b},_init:function(){if(!this._isInit){this._isInit=true;var a=this.grid.rows?this.grid.rows.firstChild:null;if(this.opts&&this.opts.skipHidden){for(;a&&!a.isVisible();a=a.nextSibling){}}this.p=a}},hasNext:function(){this._init();return this.p},next:function(){this._init();var b=this.p,a=b?b.nextSibling:null;if(this.opts&&this.opts.skipHidden){for(;a&&!a.isVisible();a=a.nextSibling){}}if(b){this.p=a}return b}});