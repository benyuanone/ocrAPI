(function(){jq(function(){var e=zk.themeName,f="breeze";if(e){f=e}jq(document.body).addClass(f)});var c=jq.alert,a={QUESTION:"z-messagebox-icon z-messagebox-question",EXCLAMATION:"z-messagebox-icon z-messagebox-exclamation",INFORMATION:"z-messagebox-icon z-messagebox-information",ERROR:"z-messagebox-icon z-messagebox-error",NONE:"z-messagebox z-messagebox-none"};function b(e,g){return new zul.wgt.Button({label:msgzul[e.toUpperCase()]||e,listeners:{onClick:function(f){if(typeof g=="function"){g.call(this,f)}var h=this.desktop;this.$o().detach();if(zAu.disabledRequest){zAu.disabledRequest=false;zAu.sendNow(h)}}}})}function d(h){var g=[];for(var e in h){var i=h[e];g.push(b(e,typeof i=="function"?i:null))}if(!g.length){g.push(b("OK"))}return g}jq.alert=function(f,e){if(e&&e.mode=="os"){return c(f)}e=e||{};zk.load("zul.wnd,zul.wgt,zul.box",function(){var i=zk.Widget.$(jq("$aualert"));if(!i){var i=new zul.wnd.Window({id:"aualert",closable:true,width:"250pt",title:e.title||zk.appName,border:"normal",listeners:{onClose:function(){if(zAu.disabledRequest){zAu.disabledRequest=false;zAu.sendNow(this.desktop)}}},children:[new zul.box.Box({mold:"horizontal",children:[new zul.wgt.Div({sclass:a[(e.icon||"").toUpperCase()]||e.icon||a.INFORMATION}),new zul.wgt.Div({id:"content",sclass:"z-messagebox",width:"210pt",style:"overflow:auto",children:[new zul.wgt.Label({id:"msg",value:f,multiline:true})]})]}),new zul.wgt.Separator({bar:true}),new zul.box.Box({mold:"horizontal",style:"margin-left:auto; margin-right:auto",children:d(e.button)})],mode:e.mode||"modal"});var j=e.desktop||zk.Desktop.$();if(j&&(j=j.firstChild)&&j.desktop){j.appendChild(i)}else{jq(document.body).append(i)}}else{var h=i.$f("msg"),j=h.parent,g=j.$n();h.setValue(h.getValue()+"\n"+f);if(!g.style.height&&g.offsetHeight>=jq.innerHeight()*0.6){g.style.height=jq.px0(jq.innerHeight()*0.6)}}})};zAu.wrongValue_=function(g,f){var e=g.effects_;if(e.errMesg){e.errMesg.destroy();delete e.errMesg}if(f!==false){e.errMesg={destroy:zk.$void};zk.load("zul.inp",function(){if(e.errMesg){(e.errMesg=new zul.inp.Errorbox(g,f)).show()}})}}})();