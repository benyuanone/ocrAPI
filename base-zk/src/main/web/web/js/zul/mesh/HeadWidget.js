(function(){var b=zk.opera?function(d){return(d=d.parent)&&d.rerender()}:zk.$void;function a(f){var g=f.getMeshWidget(),e;if(g&&(e=g.frozen)){var d;if(g._nativebar){e._syncFrozen()}else{if((d=g.ehdfaker)){e._scrollScale=d.childNodes.length-e._columns-1;e._shallSyncScale=false}}}}var c=zul.mesh.HeadWidget=zk.$extends(zul.Widget,{$init:function(){this.$supers("$init",arguments);this.listen({onColSize:this},-1000)},setSizable:(function(d,e){return function(f,g){var h=this[d];this[d]=f;if(h!==f||(g&&g.force)){this.__fname__=d.substring(1);e.apply(this,arguments);delete this.__fname__}return this}})("_sizable",(function(){this.rerender()})),getSizable:_zkf$=function(){return this._sizable},isSizable:_zkf$,setVisible:(function(d,e){return function(f,g){var h=this[d];this[d]=f;if(h!==f||(g&&g.force)){this.__fname__=d.substring(1);e.apply(this,arguments);delete this.__fname__}return this}})("_visible",(function(){this.rerender();var d=this.getMeshWidget();setTimeout(function(){if(d&&d.desktop){var g=d.$n("foot"),e=d.$n("pgib"),f=zk(d).contentHeight()-d.$n("head").offsetHeight-(g?g.offsetHeight:0)-(e?e.offsetHeight:0)-(d._nativebar&&d.frozen?d.frozen.$n().offsetHeight:0);d.ebody.style.height=jq.px0(f)}},0)})),getVisible:_zkf$=function(){return this._visible},isVisible:_zkf$,removeChildHTML_:function(g){this.$supers("removeChildHTML_",arguments);if(!this.$instanceof(zul.mesh.Auxhead)){for(var e,d=g.$class._faker,f=d.length;f--;){jq(g.uuid+"-"+d[f],zk).remove()}}},setVflex:function(d){d=false;this.$super(c,"setVflex",d)},setHflex:function(d){d=false;this.$super(c,"setHflex",d)},getMeshWidget:function(){return this.parent},onColSize:function(e){var d=this.parent;e.column._width=e.width;d._innerWidth=d.eheadtbl.width||d.eheadtbl.style.width;d.fire("onInnerWidth",d._innerWidth);d.fireOnRender(zk.gecko?200:60)},bind_:function(g,f,e){this.$supers(c,"bind_",arguments);var d=this;e.push(function(){a(d)});this.fixBorder_()},fixBorder_:function(){var e=jq(this).children(":first-child"),f=e.attr("rowspan"),g=parseInt(f)-1;if(f&&g>0){for(var d=this.nextSibling;d&&g!=0;d=d.nextSibling,g--){jq(d.firstChild).addClass(this.$s("border"))}}},unbind_:function(){jq(this.hdfaker).remove();jq(this.bdfaker).remove();jq(this.ftfaker).remove();this.$supers(c,"unbind_",arguments)},onChildAdded_:function(m){this.$supers("onChildAdded_",arguments);if(this.desktop){if(!b(this)&&this.parent._fixHeaders()){this.parent._syncSize()}a(this);this.parent._minWd=null;var d=this.getMeshWidget();if(this.$instanceof(zul.mesh.Auxhead)){var x=d?d.frozen:null;if(x){x.onSize()}return}var k=this,r=["hdfaker","bdfaker","ftfaker"];for(var v=0;v<r.length;v++){faker=r[v];var g=jq(d["e"+faker]);if(g[0]!=null&&g.find(m.$n(faker))[0]==null){var o=m._hflexWidth?m._hflexWidth+"px":m.getWidth(),h=!m.isVisible()?"display:none;":"";o=o?"width:"+o+";":"";var q='<col id="'+m.uuid+"-"+faker+'" style="'+o+h+'"/>',j=jq(d).find("."+k.$s("bar")),w=j[0],u=jq(k.$n("hdfaker")).find("[id*=hdfaker-bar]"),e=u[0],p="",l="",f=!d.frozen?zk(d.ebody).hasVScroll():false,n=m.getChildIndex();if((faker=="hdfaker")&&w){var t;if(t=w.style){p+=t.width?"width:"+t.width+";":""}j.remove();if(f&&e&&(t=e.style)){l=t.display?"display:"+t.display+";":"";l+=t.width?"width:"+t.width+";":""}u.remove()}if(n>0){jq(g.find("col")[n-1]).after(q)}else{g.append(q)}j=jq(d).find("."+k.$s("bar"));w=j[0];u=jq(k.$n("hdfaker")).find("[id*=hdfaker-bar]");e=u[0];if((faker=="hdfaker")&&!w&&f){if(!e){jq(k.$n("hdfaker")).append('<col id="'+k.uuid+'-hdfaker-bar" style="'+l+'" />')}jq(k).append('<th id="'+k.uuid+'-bar" class="'+k.$s("bar")+'" style="'+p+'" />')}}}}},onChildRemoved_:function(){this.$supers("onChildRemoved_",arguments);if(this.desktop){if(!b(this)&&!this.childReplacing_&&this.parent._fixHeaders()){this.parent.onSize()}this.parent._minWd=null;if(!zk.safari){var d=this.getMeshWidget();d.rerender(1)}}},beforeChildrenFlex_:function(k){if(k&&!k._flexFixed){var l=this.parent,e=l.ehdfaker,i=l.ebdfaker,d=e?e.firstChild:null,g=i?i.firstChild:null,f=false;for(var j=this.firstChild;j;j=j.nextSibling){if(j.isVisible()&&j._nhflex>0){f=true;if(d){d.style.width=""}if(g){g.style.width=""}}if(d){d=d.nextSibling}if(g){g=g.nextSibling}}}return true},afterChildrenFlex_:function(g){var i=this.parent,d=i.ebody,f=i.ehead,e=i.efoot,h=i._currentLeft;if(i){i._adjFlexWd();i._adjSpanWd();if(zk(d).hasHScroll()&&h!=d.scrollLeft){d.scrollLeft=h;if(f){f.scrollLeft=h}if(e){e.scrollLeft=h}}}},deferRedrawHTML_:function(d){d.push("<tr",this.domAttrs_({domClass:1}),' class="z-renderdefer"></tr>')}},{redraw:function(e){e.push("<tr",this.domAttrs_(),' style="text-align: left;">');for(var d=this.firstChild;d;d=d.nextSibling){d.redraw(e)}var f=this.getMeshWidget();if(!f.frozen){e.push('<th id="',this.uuid,'-bar" class="',this.$s("bar"),'" />')}e.push("</tr>")}})})();