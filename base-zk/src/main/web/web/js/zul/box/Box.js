(function(){function d(e){return e&&e.startsWith("0")&&!zk.parseInt(e)}function c(i,l){var e=[],k=i._spacing,j=d(k),g=i.isVertical(),f=k&&k!="auto"?(g?"height:":"width:")+k:"";e.push("<t",g?"r":"d",' id="',l.uuid,'-chdex2" class="',i.$s("separator"),'"');var h=f;if(j||!l.isVisible()){h="display:none;"+h}if(h){e.push(' style="',h,'"')}e.push(">",g?"<td>":"",zUtl.img0,g?"</td></tr>":"</td>");return e.join("")}function a(){var j=this.isVertical();if(this._isStretchAlign()||(j&&this._nhflex)||(!j&&this._nvflex)){for(var f=this.firstChild;f;f=f.nextSibling){if(f.isVisible()){var n=f.$n();if(j){if(f._nhflex&&f._nhflex>0){f.setFlexSize_({width:"auto"})}else{if(n&&this._isStretchAlign()){var k=n.style.width;if(k){var i=n.offsetWidth;n.style.width="";if(n.offsetWidth>i){n.style.width=k}}}}if(!f.$instanceof(zul.wgt.Cell)&&this._nhflex){var l=f.$n("chdex");l.style.width=""}}else{if(f._nvflex&&f._nvflex>0){f.setFlexSize_({height:"auto"})}else{if(n&&this._isStretchAlign()){var m=n.style.height;if(m){var e=n.offsetHeight;n.style.height="";if(n.offsetHeight>e){n.style.height=m}}}}if(!f.$instanceof(zul.wgt.Cell)&&this._nvflex){var l=f.$n("chdex");l.style.height=""}}}}}var g;if(zk.webkit&&!j&&(g=this.$n().style.height)){var h=this.$n("frame");h.style.height="";h.style.height=g.indexOf("%")>0?jq.px0(h.offsetHeight):g}}var b=zul.box.Box=zk.$extends(zul.Widget,{_mold:"vertical",_align:"start",_pack:"start",_sizedByContent:true,setAlign:(function(e,f){return function(g,h){var i=this[e];this[e]=g;if(i!==g||(h&&h.force)){this.__fname__=e.substring(1);f.apply(this,arguments);delete this.__fname__}return this}})("_align",(_zkf=function(){this.rerender()})),getAlign:_zkf$=function(){return this._align},isAlign:_zkf$,setPack:(function(e,f){return function(g,h){var i=this[e];this[e]=g;if(i!==g||(h&&h.force)){this.__fname__=e.substring(1);f.apply(this,arguments);delete this.__fname__}return this}})("_pack",(_zkf)),getPack:_zkf$=function(){return this._pack},isPack:_zkf$,setSpacing:(function(e,f){return function(g,h){var i=this[e];this[e]=g;if(i!==g||(h&&h.force)){this.__fname__=e.substring(1);f.apply(this,arguments);delete this.__fname__}return this}})("_spacing",(_zkf)),getSpacing:_zkf$=function(){return this._spacing},isSpacing:_zkf$,setSizedByContent:(function(e,f){return function(g,h){var i=this[e];this[e]=g;if(i!==g||(h&&h.force)){this.__fname__=e.substring(1);f.apply(this,arguments);delete this.__fname__}return this}})("_sizedByContent",(_zkf)),getSizedByContent:_zkf$=function(){return this._sizedByContent},isSizedByContent:_zkf$,setWidths:(function(e,f){return function(g,h){var i=this[e];this[e]=g;if(i!==g||(h&&h.force)){this.__fname__=e.substring(1);f.apply(this,arguments);delete this.__fname__}return this}})("_widths",(_zkf=function(e){this._sizes=e;this.rerender()})),getWidths:_zkf$=function(){return this._widths},isWidths:_zkf$,setHeights:function(e){this.setWidths(e)},getHeights:function(){return this.getWidths()},isVertical:function(){return"vertical"==this._mold},getOrient:function(){return this._mold},getZclass:function(){var e=this._zclass;return e!=null?e:this.isVertical()?"z-vbox":"z-hbox"},onChildVisible_:function(e){this.$supers("onChildVisible_",arguments);if(this.desktop){this._fixChildDomVisible(e,e._visible)}},replaceChildHTML_:function(f){this.$supers("replaceChildHTML_",arguments);this._fixChildDomVisible(f,f._visible);if(f.$instanceof(zul.box.Splitter)){var e=this._chdextr(f);if(e){e.style.height="";e.style.width=""}zUtl.fireSized(this,-1)}},_fixChildDomVisible:function(g,e){var f=this._chdextr(g);if(f){f.style.display=e?"":"none"}f=g.$n("chdex2");if(f){f.style.display=e&&!d(this._spacing)?"":"none"}if(this.lastChild==g){f=g.previousSibling;if(f){f=f.$n("chdex2");if(f){f.style.display=e?"":"none"}}}},_chdextr:function(e){return e.$n("chdex")||e.$n()},insertChildHTML_:function(i,f,h){if(f){jq(this._chdextr(f)).before(this.encloseChildHTML_(i))}else{var g=this.$n("real"),e=g.tBodies;if(!e||!e.length){g.appendChild(document.createElement("tbody"))}jq(this.isVertical()?e[0]:e[0].rows[0]).append(this.encloseChildHTML_(i,true))}i.bind(h)},removeChildHTML_:function(f){this.$supers("removeChildHTML_",arguments);jq(f.uuid+"-chdex",zk).remove();jq(f.uuid+"-chdex2",zk).remove();var e;if(this.lastChild==f&&(e=f.previousSibling)){jq(e.uuid+"-chdex2",zk).remove()}},encloseChildHTML_:function(e,l,h){var n=[],i=e.$instanceof(zul.wgt.Cell);if(this.isVertical()){n.push('<tr id="',e.uuid,'-chdex"',this._childOuterAttrs(e),">");if(!i){n.push("<td",this._childInnerAttrs(e));var o=this.getAlign();if(o&&o!="stretch"){n.push(' align="',zul.box.Box._toHalign(o),'"')}n.push(">")}e.redraw(n);if(!i){n.push("</td>")}n.push("</tr>")}else{if(!i){n.push('<td id="',e.uuid,'-chdex"',this._childOuterAttrs(e),this._childInnerAttrs(e),">")}e.redraw(n);if(!i){n.push("</td>")}}var k=e.nextSibling;if(k&&!k.$instanceof(zul.wgt.Popup)){n.push(c(this,e))}else{if(l){var f=e.previousSibling;if(f){n.unshift(c(this,f))}}}if(!h){return n.join("")}for(var g=0,m=n.length;g<m;++g){h.push(n[g])}},_resetBoxSize:function(h){var h=this.isVertical(),g=-1,f=this._sizes;if(!zk.mounting){if(h){for(var e=this.firstChild;e;e=e.nextSibling){if(f&&!e.$instanceof(zul.box.Splitter)&&!e.$instanceof(zul.wgt.Cell)){++g}if(e._nvflex&&e.getVflex()!="min"){e.setFlexSize_({height:"",width:""});var i=e.$n("chdex");if(i){var j;if((j=e.$n())&&(j.scrollTop||j.scrollLeft)){}else{i.style.height=f&&g<f.length?f[g]:"";i.style.width=""}}}}}else{for(var e=this.firstChild;e;e=e.nextSibling){if(f&&!e.$instanceof(zul.box.Splitter)&&!e.$instanceof(zul.wgt.Cell)){++g}if(e._nhflex&&e.getHflex()!="min"){e.setFlexSize_({height:"",width:""});var i=e.$n("chdex");if(i){var j;if((j=e.$n())&&(j.scrollTop||j.scrollLeft)){}else{i.style.width=f&&g<f.length?f[g]:"";i.style.height=""}}}}}}},afterResetChildSize_:function(){for(var e=this.firstChild,f=this.isVertical();e;e=e.nextSibling){if(e.desktop){var g=f?e.$n("chdex").firstChild:e.$n("chdex");if(g){g.style.minWidth="1px"}}}},resetSize_:function(i){this.$supers(zul.Widget,"resetSize_",arguments);var h=this.isVertical(),g=-1,f=this._sizes;if(h){for(var e=this.firstChild;e;e=e.nextSibling){if(f&&!e.$instanceof(zul.box.Splitter)&&!e.$instanceof(zul.wgt.Cell)){++g}if(e._nvflex&&e.getVflex()!="min"){var j=e.$n("chdex");if(j){if(i=="h"){j.style.height=f&&g<f.length?f[g]:""}if(i=="w"){j.style.width=""}}}}}else{for(var e=this.firstChild;e;e=e.nextSibling){if(f&&!e.$instanceof(zul.box.Splitter)&&!e.$instanceof(zul.wgt.Cell)){++g}if(e._nhflex&&e.getHflex()!="min"){var j=e.$n("chdex");if(j){if(i=="w"){j.style.width=f&&g<f.length?f[g]:""}if(i=="h"){j.style.height=""}}}}}},_getContentSize:function(){var g=this.$n(),h=zk(g),f=this._vflexsz!==undefined?this._vflexsz-h.padBorderHeight()-h.marginHeight():h.contentHeight(true),e=this._hflexsz!==undefined?this._hflexsz-h.padBorderWidth()-h.marginWidth():h.contentWidth(true);return h?{height:f,width:e}:{height:0,width:0}},beforeChildrenFlex_:function(n){n._flexFixed=true;var D=this.isVertical(),F=[],K=D?0:1,e=[],H=!D?0:1,z=n.$n("chdex"),w=z?z.parentNode:n.$n().parentNode,u=zk(this.$n()),t=this._getContentSize(),q=t.height,y=t.width,C=w.firstChild,A=-1,v=this._sizes,l;if(!zk.mounting){this._resetBoxSize(D)}if(u.hasVScroll()){y-=(l=jq.scrollbarWidth())}if(u.hasHScroll()){q-=l||jq.scrollbarWidth()}for(;C;C=C.nextSibling){var I=C.id&&C.id.endsWith("-chdex")?D?C.firstChild.id?C.firstChild:C.firstChild.firstChild:C.firstChild:C;for(;I;I=I.nextSibling){if(I.nodeType!=3){break}}zkc=zk(I),fixedSize=false;if(zkc.isVisible()){var B=I.id?I.id.indexOf("-"):1,m=B<0?zk.Widget.$(I.id):null;if(v&&m&&!m.$instanceof(zul.box.Splitter)&&!m.$instanceof(zul.wgt.Cell)){++A;if(A<v.length&&v[A]&&((D&&!m._nvflex)||(!D&&!m._nhflex))){I=C;zkc=zk(I);fixedSize=v[A].endsWith("px")}}var i=fixedSize&&D?zk.parseInt(v[A]):zk.ie<11&&C.id&&C.id.endsWith("-chdex2")&&C.style.height&&C.style.height.endsWith("px")?zk.parseInt(C.style.height):zkc.offsetHeight(),s=fixedSize&&!D?zk.parseInt(v[A]):zkc.offsetWidth(),r=s+zkc.marginWidth(),h=i+zkc.marginHeight();if(m&&m._nvflex){if(m!==n){m._flexFixed=true}if(m._vflex=="min"){m.fixMinFlex_(I,"h");if(D){q-=h}}else{F.push(m);if(D){K+=m._nvflex}}}else{if(D){q-=h}}if(m&&m._nhflex){if(m!==n){m._flexFixed=true}if(m._hflex=="min"){m.fixMinFlex_(I,"w");if(!D){y-=r}}else{e.push(m);if(!D){H+=m._nhflex}}}else{if(!D){y-=r}}}}var J=q>0?q:0;for(var B=F.length-1;B>0;--B){var m=F.shift(),G=(m._nvflex*q/K)|0,x=G,z=m.$n("chdex"),o=zk(z),g=o.padBorderHeight(),E=!m.$n().style.height;m.setFlexSize_({height:x-g});m._vflexsz=G-g;if(!m.$instanceof(zul.wgt.Cell)){z.style.height=jq.px0(G-o.marginHeight())}if(D){J-=G}if(!E&&D&&m!==n){zUtl.fireSized(m)}}if(F.length){var m=F.shift(),x=J,z=m.$n("chdex"),o=zk(z),g=o.padBorderHeight(),E=!m.$n().style.height;m.setFlexSize_({height:x-g});m._vflexsz=J-g;if(!m.$instanceof(zul.wgt.Cell)){z.style.height=jq.px0(J-o.marginHeight())}if(!E&&D&&m!==n){zUtl.fireSized(m)}}J=y>0?y:0;for(var B=e.length-1;B>0;--B){var m=e.shift(),f=(m._nhflex*y/H)|0,z=m.$n("chdex"),o=zk(z),g=o.padBorderWidth(),E=!m.$n().style.width;m.setFlexSize_({width:f-g});m._hflexsz=f-g;if(!m.$instanceof(zul.wgt.Cell)){z.style.width=jq.px0(f-o.marginWidth())}if(!D){J-=f}if(!E&&!D&&m!==n){zUtl.fireSized(m)}}if(e.length){var m=e.shift(),z=m.$n("chdex"),o=zk(z),g=o.padBorderWidth(),E=!m.$n().style.width;m.setFlexSize_({width:J-g});m._hflexsz=J-g;if(!m.$instanceof(zul.wgt.Cell)){z.style.width=jq.px0(J-o.marginWidth())}if(!E&&!D&&m!==n){zUtl.fireSized(m)}}n.parent.afterChildrenFlex_(n);n._flexFixed=false;return false},_childOuterAttrs:function(g){var f="";if(g.$instanceof(zul.box.Splitter)){f=' class="'+g.$s("outer")+'"'}else{if(this.isVertical()){if(this._isStretchPack()){var e=this._pack2;f=' valign="'+(e?zul.box.Box._toValign(e):"top")+'"'}else{f=' valign="top"'}}else{return""}}if(!g.isVisible()){f+=' style="display:none"'}return f},_childInnerAttrs:function(f){var k="",l=this.isVertical(),g=zul.box.Splitter;if(f.$instanceof(g)){return""}if(this._isStretchPack()){var o=l?this.getAlign():this._pack2;if(o){k+=' align="'+zul.box.Box._toHalign(o)+'"'}}var e="",i=this._sizes;if(i){for(var h=0,m=i.length,n=this.firstChild;n&&h<m;n=n.nextSibling){if(f==n){e=(l?"height:":"width:")+i[h];break}if(!n.$instanceof(g)){++h}}}if(!l&&!f.isVisible()){e+=e?";display:none":"display:none"}if(!l){e+=e?";height:100%":"height:100%"}return e?k+' style="'+e+'"':k},_isStretchPack:function(){return this._splitterKid||this._stretchPack},_isStretchAlign:function(){return this._align=="stretch"},_bindWatch:function(){if(!this._watchBound){this._watchBound=true;zWatch.listen({onSize:this,onHide:this})}},_unbindWatch:function(){if(this._watchBound){zWatch.unlisten({onSize:this,onHide:this});delete this._watchBound}},bind_:function(){this.$supers(b,"bind_",arguments);this._bindFixTd();if(this._isStretchAlign()){this._bindAlign()}if(this._splitterKid){this._bindWatch()}},unbind_:function(){this._unbindWatch();this._unbindAlign();this._unbindFixTd();this.$supers(b,"unbind_",arguments)},_bindAlign:function(){if(!this._watchAlign){this._watchAlign=true;zWatch.listen({onSize:[this,this._fixAlign],onHide:[this,this._fixAlign]})}},_unbindAlign:function(){if(this._watchAlign){zWatch.unlisten({onSize:[this,this._fixAlign],onHide:[this,this._fixAlign]});delete this._watchAlign}},_fixAlign:function(){if(this._isStretchAlign()){var e=this.isVertical(),j=this.$n("frame"),g=zk(j),f=e?g.revisedWidth(j.offsetWidth):g.revisedHeight(j.offsetHeight);for(var i=this.firstChild,h;i;i=i.nextSibling){if(i.isVisible()&&(h=i.$n())){if(e){h.style.width=zk(h).revisedWidth(f,!zk.webkit)+"px"}else{h.style.height=zk(h).revisedHeight(f-((zk.ie<11&&h.offsetTop>0)?(h.offsetTop*2):0),!zk.webkit)+"px"}}}}},_bindFixTd:function(){if(!this._watchTd){this._watchTd=true;zWatch.listen({onSize:[this,a],onHide:[this,a]})}},_unbindFixTd:function(){if(this._watchTd){zWatch.unlisten({onSize:[this,a],onHide:[this,a]});delete this._watchTd}},_configPack:function(){var e=this._pack;if(e){var e=e.split(",");if(e[0].trim()=="stretch"){this._stretchPack=true;this._pack2=e.length>1?e[1].trim():null}else{this._stretchPack=e.length>1&&e[1].trim()=="stretch";this._pack2=e[0].trim()}}else{delete this._pack2;delete this._stretchPack}},onSize:_zkf=function(){if(!this._splitterKid){return}var h=this.isVertical(),e=this.$n(),m=this.$n("real");m.style.height=m.style.width="100%";var f=h?m.rows:m.rows[0].cells,l=h?zk(m).revisedHeight(m.offsetHeight):zk(m).revisedWidth(m.offsetWidth),o=this._sizes;for(var g=f.length;g--;){var j=f[g];if(zk(j).isVisible()){if(h){var n=j.offsetHeight;if(j.id&&!j.id.endsWith("-chdex2")){if(j.cells.length){var k=j.cells[0];k.style.height=zk(k).revisedHeight(g?n:l)+"px";j.style.height=""}else{j.style.height=zk(j).revisedHeight(g?n:l)+"px"}}l-=n}else{var n=j.offsetWidth;if(!o&&j.id&&!j.id.endsWith("-chdex2")){j.style.width=zk(j).revisedWidth(g?n:l)+"px"}l-=n}}}},onHide:_zkf},{_toValign:function(e){return e?"start"==e?"top":"center"==e?"middle":"end"==e?"bottom":e:null},_toHalign:function(e){return e?"start"==e?"left":"end"==e?"right":e:null}})})();