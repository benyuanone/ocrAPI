(function(){function a(b){if(!b._oldId){b._oldId=b.uuid;setTimeout(function(){delete b._oldId},0)}}zul.tab.Tab=zk.$extends(zul.LabelImageWidget,{$init:function(){this.$supers("$init",arguments);this.listen({onClose:this},-1000)},setClosable:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_closable",(_zkf=function(){this.rerender()})),getClosable:_zkf$=function(){return this._closable},isClosable:_zkf$,setImage:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_image",(function(b){if(b&&this._preloadImag){zUtl.loadImage(b)}this.rerender()})),getImage:_zkf$=function(){return this._image},isImage:_zkf$,setDisabled:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_disabled",(_zkf)),getDisabled:_zkf$=function(){return this._disabled},isDisabled:_zkf$,setSelected:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_selected",(function(b){this._sel()})),getSelected:_zkf$=function(){return this._selected},isSelected:_zkf$,getTabbox:function(){return this.parent?this.parent.parent:null},getIndex:function(){return this.getChildIndex()},getLinkedPanel:function(){var b;return(b=this.getTabbox())&&(b=b.getTabpanels())?b.getChildAt(this.getIndex()):null},_doCloseClick:function(b){if(!this._disabled){this.fire("onClose");b.stop()}},_sel:function(e,g){var d=this.getTabbox();if(!d||d._animating){return}var c=this.parent,b=d._selTab;if(b!=this||g){if(b&&d.inAccordionMold()){var f=this.getLinkedPanel();if(f){f._changeSel(b.getLinkedPanel())}}if(b&&b!=this){this._setSel(b,false,false,g)}this._setSel(this,true,e,g)}},_setSel:function(g,c,f,i){var e=this.getTabbox(),b=g.getLinkedPanel();if(g.isSelected()==c&&f){return}if(c){e._selTab=g;var h;if(h=e.tabpanels){if(h._selPnl&&h._selPnl!=b){h._selPnl._sel(false,e.inAccordionMold())}h._selPnl=b}}g._selected=c;if(!this.desktop){return}if(c){jq(g).addClass(this.$s("selected"))}else{jq(g).removeClass(this.$s("selected"))}if(b&&b.isVisible()){b._sel(c,!i)}if(!e.inAccordionMold()){var d=this.parent;if(d){d._fixWidth()}}if(g==this){if(e.isVertical()){d._scrollcheck("vsel",this)}else{if(!e.inAccordionMold()){d._scrollcheck("sel",this)}}}if(f){this.fire("onSelect",{items:[this],reference:this.uuid})}},setHeight:function(b){this.$supers("setHeight",arguments);if(this.desktop){this._calcHgh();zUtl.fireSized(this.parent)}},setWidth:function(b){this.$supers("setWidth",arguments);if(this.desktop){zUtl.fireSized(this.parent)}},_calcHgh:function(){var h=this.$n(),f=this.getTabbox();if(!f.isVertical()){var g=f.$n("right"),c=f.$n("left"),b=f.toolbar,e=f.tabs.$n(),d=jq.px0(e?e.offsetHeight:0);if(g&&c){g.style.height=c.style.height=d}if(b&&(b=b.$n())){b.style.height=d}}},doClick_:function(b){if(this._disabled){return}this._sel(true);this.$supers("doClick_",arguments)},domClass_:function(c){var b=this.$supers("domClass_",arguments);if(!c||!c.zclass){if(this.isDisabled()){b+=" "+this.$s("disabled")}if(this.isSelected()){b+=" "+this.$s("selected")}}return b},domContent_:function(){var d=zUtl.encodeXML(this.getLabel()),b=this.getImage(),c=this.domIcon_();if(!d){d="&nbsp;"}if(!b&&!c){return d}if(!b){b=c}else{b='<img src="'+b+'" class="'+this.$s("image")+'"/>'+(c?" "+c:"")}return d?b+" "+d:b},setVflex:function(b){if(b!="min"){b=false}this.$supers("setVflex",arguments)},setHflex:function(b){if(b!="min"){b=false}this.$supers("setHflex",arguments)},bind_:function(f,e,d){this.$supers(zul.tab.Tab,"bind_",arguments);var b=this.isClosable()?this.$n("cls"):null,c=this;if(b){this.domListen_(b,"onClick","_doCloseClick")}if(c.isSelected()){zk.afterMount(function(){if(c.desktop&&c.getTabbox().inAccordionMold()){var g=c.getLinkedPanel(),h=g?g.$n("cave"):null;if(h&&h.style.display=="none"){g._sel(true,true)}}c._sel(false,true)})}if(this.getHeight()){this._calcHgh()}},unbind_:function(){var b=this.$n("cls");a(this);if(b){this.domUnlisten_(b,"onClick","_doCloseClick")}this.$supers(zul.tab.Tab,"unbind_",arguments)},onClose:function(){if(this.getTabbox().inAccordionMold()){this.getTabbox()._syncSize()}},deferRedrawHTML_:function(c){var d=this.getTabbox(),b=d.inAccordionMold()?"div":"li";c.push("<",b,this.domAttrs_({domClass:1}),' class="z-renderdefer"></',b,">")},rerender:function(b){if(this.desktop){a(this)}this.$supers(zul.tab.Tab,"rerender",arguments)},contentRenderer_:function(b){b.push('<span id="',this.uuid,'-cnt" class="',this.$s("text"),'">',this.domContent_(),"</span>")}});zul.tab.TabRenderer={isFrameRequired:function(){return false}}})();