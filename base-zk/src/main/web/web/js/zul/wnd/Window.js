(function(){var f=[],r;function e(B){if(!B._lastSize){return}var y=B.$n(),w=zk(y),z=B._mode!="embedded",A=z?jq(y).offsetParent():jq(y).parent(),x=y.style;x.width=jq.px0(A[0].clientWidth-A.zk.paddingWidth());x.height=jq.px0(A[0].clientHeight-A.zk.paddingHeight())}function a(x){var w=x.node;if(w.style.top&&w.style.top.indexOf("%")>=0){w.style.top=w.offsetTop+"px"}if(w.style.left&&w.style.left.indexOf("%")>=0){w.style.left=w.offsetLeft+"px"}zWatch.fire("onFloatUp",x.control)}function p(F,E,H){var z=F.control,x=F.node,I=jq(x),B=I.find(">div:first"),G=B[0],y=jq(G).clone(),A=y[0],w=z.getZclass();q(z);jq(document.body).prepend('<div id="zk_wndghost" class="'+w+'-move-ghost" style="position:absolute;top:'+E[1]+"px; left:"+E[0]+"px;width:"+(I.width()+zk(x).padBorderWidth())+"px;height:"+(I.height()+zk(x).padBorderHeight())+"px;z-index:"+x.style.zIndex+'"><dl></dl></div>');F._wndoffs=E;x.style.visibility="hidden";var C=x.offsetHeight-z._titleHeight(x);x=jq("#zk_wndghost")[0];var D=x.firstChild;D.style.height=jq.px0(zk(D).revisedHeight(C));x.insertBefore(A,x.lastChild);return x}function v(y,w){var x=y.node;w.style.top=jq.px(w.offsetTop+x.offsetTop-y._wndoffs[1]);w.style.left=jq.px(w.offsetLeft+x.offsetLeft-y._wndoffs[0]);document.body.style.cursor="";zWatch.fire("onMove")}function g(A,C,x){var y=A.node,B=A.control,w=x.domTarget,z;if(!w.id){w=w.parentNode}switch(w){case B.$n("close"):case B.$n("max"):case B.$n("min"):return true}if(B!=(z=zk.Widget.$(w))&&B.caption!=z){return true}if(!B.isSizable()||(y.offsetTop+4<C[1]&&y.offsetLeft+4<C[0]&&y.offsetLeft+y.offsetWidth-4>C[0])){return false}return true}function s(x,w){x.node.style.visibility="";var y=x.control;if(y._position&&y._position!="parent"){y._position=null}y.zsync();y._fireOnMove(w.data);zk(y).redoCSS(-1,{fixFontIcon:true})}function m(y){var A=y._position,z=y.$n(),w=zk(z);if(!A&&(!z.style.top||!z.style.left)){var x=w.revisedOffset();if(!z.style.left){z.style.left=jq.px(x[0])}if(!z.style.top){z.style.top=jq.px(x[1])}}else{if(A=="parent"){d(y)}}w.makeVParent();zWatch.fireDown("onVParent",y);y.zsync();b(y);y.setTopmost();k(y)}function i(z){var B=z._position,A=z.$n(),x=zk(A);if(B=="parent"){d(z)}x.makeVParent();zWatch.fireDown("onVParent",z);z.zsync();b(z,true,false,true);var y=z.isRealVisible();z.setTopmost();if(!z._mask){var w=z._shadowWgt?z._shadowWgt.getBottomElement():null;z._mask=new zk.eff.FullMask({id:z.uuid+"-mask",anchor:w?w:z.$n(),zIndex:z._zIndex,visible:y})}if(y){c(z)}k(z)}function c(y){zk.currentModal=y;var x=f[0],w=zk.currentFocus;if(x){x._lastfocus=w}else{r=w}f.unshift(y);setTimeout(function(){zk.afterAnimate(function(){if(!zUtl.isAncestor(y,zk.currentFocus)){if(zk.ie9_){y.focus(100)}else{y.focus()}}},-1)})}function l(y){f.$remove(y);if(zk.currentModal==y){var x=zk.currentModal=f[0],w=x?x._lastfocus:r;if(!x){r=null}if(!w||!w.desktop){w=x}if(w){if(y._updDOFocus===false){y._updDOFocus=w}else{w.focus(0)}}}y._lastfocus=null}function d(x){var y=x.$n(),w=zk(zk(y).vparentNode(true)).revisedOffset();x._offset=w;y.style.left=jq.px(w[0]+zk.parseInt(x._left));y.style.top=jq.px(w[1]+zk.parseInt(x._top))}function h(A,y){A._notSendMaximize=!y||!y.sendOnMaximize;A._updDOFocus=false;try{var x=A._lastSize;A.rerender(A._skipper);if(x){A._lastSize=x;if(n=A.$n()){var w=n.style;if(x.h){w.height=x.h}if(x.w){w.width=x.w}A._fixHgh()}}var z;if(z=A._updDOFocus){z.focus(10)}}finally{delete A._updDOFocus;delete A._notSendMaximize}}function b(M,z,J,D){if(!M.desktop||M._mode=="embedded"){return}var A=M.$n(),H=M._position;if(H=="parent"){if(J){d(M)}return}if(!H&&!z){return}var L=A.style;L.position="absolute";var E=L.left,C=L.top;if(H!="nocenter"){zk(A).center(H)}var x=M._shadowWgt;if(H&&x){var w=x.opts,B=A.offsetLeft,K=A.offsetTop;if(H.indexOf("left")>=0&&w.left<0){L.left=jq.px(B-w.left)}else{if(H.indexOf("right")>=0&&w.right>0){L.left=jq.px(B-w.right)}}if(H.indexOf("top")>=0&&w.top<0){L.top=jq.px(K-w.top)}else{if(H.indexOf("bottom")>=0&&w.bottom>0){L.top=jq.px(K-w.bottom)}}}if(D&&!H){var G=zk.parseInt(A.style.top),F=jq.innerY();if(F){var I=G-F;if(I>100){A.style.top=jq.px0(G-(I-100))}}else{if(G>100){A.style.top="100px"}}}M.zsync();if(E!=L.left||C!=L.top){M._fireOnMove()}}function q(w){var x=w._shadowWgt;if(x){x.hide()}}function o(x){if(!x._sizer){x.domListen_(x.$n(),"onMouseMove");x.domListen_(x.$n(),"onMouseOut");var w=x.$class;x._sizer=new zk.Draggable(x,null,{stackup:true,overlay:true,draw:w._drawsizing,snap:w._snapsizing,initSensitivity:0,starteffect:w._startsizing,ghosting:w._ghostsizing,endghosting:w._endghostsizing,ignoredrag:w._ignoresizing,endeffect:w._aftersizing})}}function k(y){var x=y.$n("cap");if(x&&!y._drag){jq(x).addClass(y.getZclass()+"-header-move");var w=y.$class;y._drag=new zk.Draggable(y,null,{handle:x,stackup:true,fireOnMove:false,starteffect:w._startmove,ghosting:w._ghostmove,endghosting:w._endghostmove,ignoredrag:w._ignoremove,endeffect:w._aftermove,zIndex:99999})}}function t(w){return w=="modal"||w=="highlighted"}function u(D,C,B){var F=D._position,C=zk.parseInt(C),B=zk.parseInt(B),w=0,E=0;if(F=="parent"){var z=zk(D.$n()).vparentNode();if(z){var A=zk(z).revisedOffset();w=A[0];E=A[1]}}return[jq.px(C-w),jq.px(B-E)]}var j=zul.wnd.Window=zk.$extends(zul.ContainerWidget,{_mode:"embedded",_border:"none",_minheight:100,_minwidth:200,_shadow:true,$init:function(){this._fellows={};this._lastSize={};this.$supers("$init",arguments);this.listen({onMaximize:this,onClose:this,onMove:this,onSize:this.onSizeEvent,onZIndex:this},-1000);this._skipper=new zul.wnd.Skipper(this)},setMode:(function(w,x){return function(y,z){var A=this[w];this[w]=y;if(A!==y||(z&&z.force)){this.__fname__=w.substring(1);x.apply(this,arguments);delete this.__fname__}return this}})("_mode",(_zkf=function(){h(this)})),getMode:_zkf$=function(){return this._mode},isMode:_zkf$,setTitle:(function(w,x){return function(y,z){var A=this[w];this[w]=y;if(A!==y||(z&&z.force)){this.__fname__=w.substring(1);x.apply(this,arguments);delete this.__fname__}return this}})("_title",(function(){if(this.caption){this.caption.updateDomContent_()}else{h(this)}})),getTitle:_zkf$=function(){return this._title},isTitle:_zkf$,setBorder:(function(w,x){return function(y,z){var A=this[w];this[w]=y;if(A!==y||(z&&z.force)){this.__fname__=w.substring(1);x.apply(this,arguments);delete this.__fname__}return this}})("_border",(_zkf)),getBorder:_zkf$=function(){return this._border},isBorder:_zkf$,setClosable:(function(w,x){return function(y,z){var A=this[w];this[w]=y;if(A!==y||(z&&z.force)){this.__fname__=w.substring(1);x.apply(this,arguments);delete this.__fname__}return this}})("_closable",(_zkf)),getClosable:_zkf$=function(){return this._closable},isClosable:_zkf$,setSizable:(function(w,x){return function(y,z){var A=this[w];this[w]=y;if(A!==y||(z&&z.force)){this.__fname__=w.substring(1);x.apply(this,arguments);delete this.__fname__}return this}})("_sizable",(function(w){if(this.desktop){if(w){o(this)}else{if(this._sizer){this._sizer.destroy();this._sizer=null}}}})),getSizable:_zkf$=function(){return this._sizable},isSizable:_zkf$,setMaximizable:(function(w,x){return function(y,z){var A=this[w];this[w]=y;if(A!==y||(z&&z.force)){this.__fname__=w.substring(1);x.apply(this,arguments);delete this.__fname__}return this}})("_maximizable",(_zkf)),getMaximizable:_zkf$=function(){return this._maximizable},isMaximizable:_zkf$,setMinimizable:(function(w,x){return function(y,z){var A=this[w];this[w]=y;if(A!==y||(z&&z.force)){this.__fname__=w.substring(1);x.apply(this,arguments);delete this.__fname__}return this}})("_minimizable",(_zkf)),getMinimizable:_zkf$=function(){return this._minimizable},isMinimizable:_zkf$,setMaximized:(function(w,x){return function(y,z){var A=this[w];this[w]=y;if(A!==y||(z&&z.force)){this.__fname__=w.substring(1);x.apply(this,arguments);delete this.__fname__}return this}})("_maximized",(function(y,H){var J=this.$n();if(J){var N=zk(J),O=this.isRealVisible();if(!O&&y){return}var K,F,D,M,G=J.style,B=this.getMaximizableIconClass_(),C=this.getMaximizedIconClass_();if(y){jq(this.$n("max")).addClass(this.$s("maximized")).children("."+B).removeClass(B).addClass(C);var x=this._mode!="embedded",A=x?jq(J).offsetParent():jq(J).parent();K=G.left;F=G.top;D=G.width;M=G.height;G.top="-10000px";G.left="-10000px";G.width=jq.px0(A[0].clientWidth-(!x?A.zk.paddingWidth():0));G.height=jq.px0(A[0].clientHeight-(!x?A.zk.paddingHeight():0));this._lastSize={l:K,t:F,w:D,h:M};G.top="0";G.left="0";D=G.width;M=G.height}else{var L=this.$n("max"),z=jq(L);z.removeClass(this.$s("maximized")).children("."+C).removeClass(C).addClass(B);if(this._lastSize){G.left=this._lastSize.l;G.top=this._lastSize.t;G.width=this._lastSize.w;G.height=this._lastSize.h;this._lastSize=null}K=G.left;F=G.top;D=G.width;M=G.height;var E=this.$n("cave");if(E){E.style.width=E.style.height=""}}if(!H||O){this._visible=true;if(!this._notSendMaximize){var I=u(this,K,F);this.fire("onMaximize",{left:I[0],top:I[1],width:D,height:M,maximized:y,fromServer:H})}}if(O){zUtl.fireSized(this)}}})),getMaximized:_zkf$=function(){return this._maximized},isMaximized:_zkf$,setMinimized:(function(w,x){return function(y,z){var A=this[w];this[w]=y;if(A!==y||(z&&z.force)){this.__fname__=w.substring(1);x.apply(this,arguments);delete this.__fname__}return this}})("_minimized",(function(x,w){if(this._maximized){this.setMaximized(false)}var z=this.$n();if(z){var y=z.style;if(x){zWatch.fireDown("onHide",this);jq(z).hide()}else{jq(z).show();zUtl.fireShown(this)}if(!w){this._visible=false;this.zsync();var A=u(this,y.left,y.top);this.fire("onMinimize",{left:A[0],top:A[1],width:y.width,height:y.height,minimized:x})}}})),getMinimized:_zkf$=function(){return this._minimized},isMinimized:_zkf$,setContentStyle:(function(w,x){return function(y,z){var A=this[w];this[w]=y;if(A!==y||(z&&z.force)){this.__fname__=w.substring(1);x.apply(this,arguments);delete this.__fname__}return this}})("_contentStyle",(_zkf)),getContentStyle:_zkf$=function(){return this._contentStyle},isContentStyle:_zkf$,setContentSclass:(function(w,x){return function(y,z){var A=this[w];this[w]=y;if(A!==y||(z&&z.force)){this.__fname__=w.substring(1);x.apply(this,arguments);delete this.__fname__}return this}})("_contentSclass",(_zkf)),getContentSclass:_zkf$=function(){return this._contentSclass},isContentSclass:_zkf$,setPosition:(function(w,x){return function(y,z){var A=this[w];this[w]=y;if(A!==y||(z&&z.force)){this.__fname__=w.substring(1);x.apply(this,arguments);delete this.__fname__}return this}})("_position",(function(){b(this,false,this._visible)})),getPosition:_zkf$=function(){return this._position},isPosition:_zkf$,setMinheight:(function(w){return function(x){this[w]=x;return this}})("_minheight"),getMinheight:_zkf$=function(){return this._minheight},isMinheight:_zkf$,setMinwidth:(function(w){return function(x){this[w]=x;return this}})("_minwidth"),getMinwidth:_zkf$=function(){return this._minwidth},isMinwidth:_zkf$,setShadow:(function(w,x){return function(y,z){var A=this[w];this[w]=y;if(A!==y||(z&&z.force)){this.__fname__=w.substring(1);x.apply(this,arguments);delete this.__fname__}return this}})("_shadow",(function(){if(this._shadow){this.zsync()}else{if(this._shadowWgt){this._shadowWgt.destroy();this._shadowWgt=null}}})),getShadow:_zkf$=function(){return this._shadow},isShadow:_zkf$,repos:function(){b(this,false,this._visible)},doOverlapped:function(){this.setMode("overlapped")},doPopup:function(){this.setMode("popup")},doHighlighted:function(){this.setMode("highlighted")},doModal:function(){this.setMode("modal")},doEmbedded:function(){this.setMode("embedded")},afterAnima_:function(w){this.$supers("afterAnima_",arguments);this.zsync()},zsync:function(){this.$supers("zsync",arguments);if(this.desktop){if(this._mode=="embedded"){if(this._shadowWgt){this._shadowWgt.destroy();this._shadowWgt=null}}else{if(this._shadow){if(!this._shadowWgt){this._shadowWgt=new zk.eff.Shadow(this.$n(),{left:-4,right:4,top:-2,bottom:3})}if(this._maximized||this._minimized||!this._visible){q(this)}else{this._shadowWgt.sync()}}}if(this._mask){var w=(this._shadowWgt&&this._shadowWgt.getBottomElement())||this.$n();if(w){this._mask.sync(w)}}}},onClose:function(){if(!this.inServer){this.parent.removeChild(this)}},onMove:function(w){this._left=w.left;this._top=w.top},onMaximize:function(w){var x=w.data;this._top=x.top;this._left=x.left;this._height=x.height;this._width=x.width},onSizeEvent:function(w){var A=w.data,z=this.$n(),y=z.style;q(this);if(A.width!=y.width){y.width=A.width;this._width=y.width}if(A.height!=y.height){y.height=A.height;this._fixHgh();this._height=y.height}if(A.left!=y.left||A.top!=y.top){y.left=A.left;y.top=A.top;this._fireOnMove(w.keys)}this.zsync();var x=this;setTimeout(function(){zUtl.fireSized(x)})},onZIndex:_zkf=function(w){this.zsync()},onResponse:_zkf,onShow:function(y){var x=y.origin;if(this!=x&&this._mode!="embedded"&&this.isRealVisible({until:x,dom:true})){zk(this.$n()).cleanVisibility();this.zsync()}},onHide:function(y){var x=y.origin;if(this!=x&&this._mode!="embedded"&&this.isRealVisible({until:x,dom:true})){this.$n().style.visibility="hidden";this.zsync()}},onSize:function(){q(this);if(this._maximized){e(this)}this._fixHgh(true);if(this._mode!="embedded"){b(this)}this.zsync()},onFloatUp:function(w){if(!this._visible||this._mode=="embedded"||this._mask){return}var y=w.origin;if(this._mode=="popup"){for(var x;y;y=y.parent){if(y==this){if(!x){this.setTopmost()}return}x=x||y.isFloating_()}this.setVisible(false);this.fire("onOpen",{open:false})}else{for(;y;y=y.parent){if(y==this){this.setTopmost();return}if(y.isFloating_()){return}}}},_fixHgh:function(w){if(w||this.isRealVisible()){var A=this.$n(),x=A.style.height,z=this.$n("cave"),y=z.style.height;if(x&&x!="auto"){z.style.height=jq.px0(this._offsetHeight(A))}else{if(y&&y!="auto"){z.style.height=""}}}},_offsetHeight:function(w){return zk(w).offsetHeight()-this._titleHeight()-zk(w).padBorderHeight()},_titleHeight:function(){var w=this.getTitle()||this.caption?this.$n("cap"):null;return w?w.offsetHeight:0},_fireOnMove:function(x){var w=this.$n().style,y=u(this,w.left,w.top);this.fire("onMove",zk.copy({left:y[0],top:y[1]},x),{ignorable:true})},setVisible:function(x){if(this._visible!=x){if(this._maximized){this.setMaximized(false)}else{if(this._minimized){this.setMinimized(false)}}var w=t(this._mode);if(x){b(this,w,true,w);if(w&&(!this.parent||this.parent.isRealVisible())){this.setTopmost();c(this)}}else{if(w){l(this)}}this.$supers("setVisible",arguments);if(!x){this.zsync()}}},setHeight:function(w){this.$supers("setHeight",arguments);if(this.desktop){zUtl.fireSized(this)}},setWidth:function(w){this.$supers("setWidth",arguments);if(this.desktop){zUtl.fireSized(this)}},setTop:function(){q(this);this.$supers("setTop",arguments);this.zsync()},setLeft:function(){q(this);this.$supers("setLeft",arguments);this.zsync()},setZIndex:_zkf=function(x){var w=this._zIndex;this.$supers("setZIndex",arguments);if(w!=x){this.zsync()}},setZindex:_zkf,focus_:function(z){var y=this.caption;if(!zk.mobile){for(var x=this.firstChild;x;x=x.nextSibling){if(x.desktop&&x!=y&&x.focus_(z)){return true}}}return y&&y.focus_(z)},domClass_:function(y){var w=this.$supers(zul.wnd.Window,"domClass_",arguments),x=this._border;x="normal"==x?"":"none"==x?"noborder":x;if(x){w+=" "+this.$s(x)}if(!(this.getTitle()||this.caption)){w+=" "+this.$s("noheader")}w+=" "+this.$s(this._mode);return w},onChildAdded_:function(w){this.$supers("onChildAdded_",arguments);if(w.$instanceof(zul.wgt.Caption)){this.caption=w;this.rerender(this._skipper)}},onChildRemoved_:function(w){this.$supers("onChildRemoved_",arguments);if(w==this.caption){this.caption=null;this.rerender(this._skipper)}},insertChildHTML_:function(y,w,x){if(!y.$instanceof(zul.wgt.Caption)){this.$supers("insertChildHTML_",arguments)}},domStyle_:function(x){var w=this.$supers("domStyle_",arguments);if((!x||!x.visible)&&this._minimized){w="display:none;"+w}if(this._mode!="embedded"){w="position:absolute;"+w}return w},bind_:function(A,z,y){this.$supers(j,"bind_",arguments);var x=this._mode;zWatch.listen({onSize:this});if(x!="embedded"){zWatch.listen({onFloatUp:this,onHide:this,onShow:this});this.setFloating_(true);if(t(x)){i(this)}else{m(this)}}if(this._sizable){o(this)}if(this._maximizable&&this._maximized){var w=this;y.push(function(){w._maximized=false;w.setMaximized(true,true)})}if(this._mode!="embedded"&&(!zk.css3)){jq.onzsync(this);zWatch.listen({onResponse:this})}},detach:function(){if(zk.ie>8||zk.chrome){var w=jq(this.$n()).find("iframe");if(w.length){w.hide().remove()}}this.$supers(j,"detach",arguments)},unbind_:function(){var w=this.$n();zk(w).beforeHideOnUnbind();w.style.visibility="hidden";if(!zk.css3){jq.unzsync(this)}if(this._shadowWgt){this._shadowWgt.destroy();this._shadowWgt=null}if(this._drag){this._drag.destroy();this._drag=null}if(this._sizer){this._sizer.destroy();this._sizer=null}if(this._mask){this._mask.destroy();this._mask=null}if(zk.ie>9){var x=jq(this.$n()).find("iframe");if(x.length){x.hide().remove()}}zk(w).undoVParent();zWatch.unlisten({onFloatUp:this,onSize:this,onShow:this,onHide:this,onResponse:this});this.setFloating_(false);l(this);this.domUnlisten_(this.$n(),"onMouseMove");this.domUnlisten_(this.$n(),"onMouseOut");this.$supers(j,"unbind_",arguments)},_doMouseMove:function(w){if(this._sizer&&w.target==this){var z=this.$n(),y=this.$class._insizer(z,zk(z).revisedOffset(),w.pageX,w.pageY),x=this._mode=="embedded"?false:this.$n("cap");if(!this._maximized&&y){if(this._backupCursor==undefined){this._backupCursor=z.style.cursor}z.style.cursor=y==1?"n-resize":y==2?"ne-resize":y==3?"e-resize":y==4?"se-resize":y==5?"s-resize":y==6?"sw-resize":y==7?"w-resize":"nw-resize";if(x){jq(x).removeClass(this.$s("header-move"))}}else{z.style.cursor=this._backupCursor||"";if(x){jq(x).addClass(this.$s("header-move"))}}}},_doMouseOut:function(w){this.$n().style.cursor=this._backupCursor||""},doClick_:function(w){var x=w.domTarget;if(!x.id){x=x.parentNode}if(x){switch(x){case this.$n("close"):this.fire("onClose");break;case this.$n("max"):this.setMaximized(!this._maximized);break;case this.$n("min"):this.setMinimized(!this._minimized);break;default:this.$supers("doClick_",arguments);return}w.stop()}this.$supers("doClick_",arguments)},afterChildrenMinFlex_:function(w){this.$supers("afterChildrenMinFlex_",arguments);if(t(this._mode)){b(this,true)}},afterChildrenFlex_:function(w){this.$supers("afterChildrenFlex_",arguments);if(t(this._mode)){b(this,true)}},getChildMinSize_:function(w,y){var x=true;if(y==this.caption){if(w=="w"){x=!!(y.$n().style.width)}else{x=!!(y.$n().style.height)}}if(x){return this.$supers("getChildMinSize_",arguments)}else{return 0}},getContentEdgeWidth_:function(A){if(this.caption&&(A==this.caption.$n().offsetWidth)){var B=this.$n(),z=this.caption,D=z?z.$n():B.firstChild,C=zk(B),y=C.padBorderWidth();if(D){D=D.parentNode;while(D&&D.nodeType==1&&B!=D){var x=zk(D);y+=x.padBorderWidth()+x.sumStyles("lr",jq.margins);D=D.parentNode}return y}return 0}else{return this.$supers("getContentEdgeWidth_",arguments)}},setFlexSizeH_:function(z,x,w,y){if(y){w+=this._titleHeight(z)}this.$supers("setFlexSizeH_",arguments)},ignoreFlexSize_:function(w){return this._mode!="embedded"},getClosableIconClass_:function(){return"z-icon-times"},getMaximizableIconClass_:function(){return"z-icon-resize-full"},getMaximizedIconClass_:function(){return"z-icon-resize-small"},getMinimizableIconClass_:function(){return"z-icon-minus"}},{_startsizing:function(w){zWatch.fire("onFloatUp",w.control)},_snapsizing:function(y,z){var x=(y.z_dir>=6&&y.z_dir<=8)?Math.max(z[0],0):z[0],w=(y.z_dir==8||y.z_dir<=2)?Math.max(z[1],0):z[1];return[x,w]},_ghostsizing:function(B,A,w){var z=B.control,y=B.node;q(z);z.setTopmost();var x=jq(y);jq(document.body).append('<div id="zk_ddghost" class="'+z.getZclass()+'-resize-faker" style="position:absolute;top:'+A[1]+"px;left:"+A[0]+"px;width:"+x.zk.offsetWidth()+"px;height:"+x.zk.offsetHeight()+"px;z-index:"+y.style.zIndex+'"><dl></dl></div>');return jq("#zk_ddghost")[0]},_endghostsizing:function(y,w){var x=y.node;if(w){y.z_szofs={top:x.offsetTop+"px",left:x.offsetLeft+"px",height:jq.px0(zk(x).revisedHeight(x.offsetHeight)),width:jq.px0(zk(x).revisedWidth(x.offsetWidth))}}},_insizer:function(B,C,z,D){var A=C[0]+B.offsetWidth,w=C[1]+B.offsetHeight;if(z-C[0]<=5){if(D-C[1]<=5){return 8}else{if(w-D<=5){return 6}else{return 7}}}else{if(A-z<=5){if(D-C[1]<=5){return 2}else{if(w-D<=5){return 4}else{return 3}}}else{if(D-C[1]<=5){return 1}else{if(w-D<=5){return 5}}}}},_ignoresizing:function(A,C,w){var y=A.node,B=A.control;if(B._maximized||w.target!=B){return true}var z=zk(y).revisedOffset(),x=B.$class._insizer(y,z,C[0],C[1]);if(x){q(B);A.z_dir=x;A.z_box={top:z[1],left:z[0],height:y.offsetHeight,width:y.offsetWidth,minHeight:zk.parseInt(B.getMinheight()),minWidth:zk.parseInt(B.getMinwidth())};A.z_orgzi=y.style.zIndex;return false}return true},_aftersizing:function(y,w){var z=y.control,x=y.z_szofs;z.fire("onSize",zk.copy(x,w.keys),{ignorable:true});y.z_szofs=null},_drawsizing:function(A,B,y){if(A.z_dir==8||A.z_dir<=2){var z=A.z_box.height+A.z_box.top-B[1];if(z<A.z_box.minHeight){B[1]=A.z_box.height+A.z_box.top-A.z_box.minHeight;z=A.z_box.minHeight}A.node.style.height=jq.px0(z);A.node.style.top=jq.px(B[1])}if(A.z_dir>=4&&A.z_dir<=6){var z=A.z_box.height+B[1]-A.z_box.top;if(z<A.z_box.minHeight){z=A.z_box.minHeight}A.node.style.height=jq.px0(z)}if(A.z_dir>=6&&A.z_dir<=8){var x=A.z_box.width+A.z_box.left-B[0];if(x<A.z_box.minWidth){B[0]=A.z_box.width+A.z_box.left-A.z_box.minWidth;x=A.z_box.minWidth}A.node.style.width=jq.px0(x);A.node.style.left=jq.px(B[0])}if(A.z_dir>=2&&A.z_dir<=4){var x=A.z_box.width+B[0]-A.z_box.left;if(x<A.z_box.minWidth){x=A.z_box.minWidth}A.node.style.width=jq.px0(x)}},_startmove:a,_ghostmove:p,_endghostmove:v,_ignoremove:g,_aftermove:s});zul.wnd.Skipper=zk.$extends(zk.Skipper,{$init:function(w){this._w=w},restore:function(){this.$supers("restore",arguments);var x=this._w;if(x._mode!="embedded"){b(x);x.zsync()}}});zul.wnd.WindowRenderer={shallCheckBorder:function(w){return w._mode!="popup"&&(w._mode!="embedded"||w.getBorder()!="none")}}})();