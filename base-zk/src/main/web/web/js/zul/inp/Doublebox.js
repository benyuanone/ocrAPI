zul.inp.Doublebox=zk.$extends(zul.inp.NumberInputWidget,{coerceFromString_:function(i){if(!i){return null}var c=zk.fmt.Number.unformat(this._format,i,false,this._localizedSymbols),j=c.raw,b=parseFloat(j),d=""+b,h=d.indexOf("."),f=j.indexOf(".");if(isNaN(b)||d.indexOf("e")<0){if(f==0){j="0"+j;++f}if(f>=0&&j.substring(j.substring(f+1))&&h<0){h=d.length;d+="."}var e=j.length,a=d.length;if(h>=0&&h<f){a-=h;e-=f;for(var g=f-h;g-->0;){d="0"+d}}if(a<e){for(var g=e-a;g-->0;){d+="0"}}if(isNaN(b)||(j!=d&&j!="-"+d&&j.indexOf("e")<0)){if(!isNaN(b)&&j!=d){return{error:zk.fmt.Text.format(msgzul.ILLEGAL_VALUE)}}return{error:zk.fmt.Text.format(msgzul.NUMBER_REQUIRED,i)}}}if(this._rounding==7&&(this._errmsg||zk.fmt.Number.isRoundingRequired(i,this.getFormat(),this._localizedSymbols))){return{server:true}}if(c.divscale){b=b/Math.pow(10,c.divscale)}return b},_allzero:function(b){for(var a=b.length;a-->0;){if(b.charAt(a)!="0"){return false}}return true},coerceToString_:function(c){var a=this._format,b=this._localizedSymbols,d=(b?b:zk).DECIMAL;return c==null?"":a?zk.fmt.Number.format(a,c,this._rounding,b):d=="."?(""+c):(""+c).replace(".",d)},getAllowedKeys_:function(){var a=this._localizedSymbols;return this.$supers("getAllowedKeys_",arguments)+(a?a:zk).DECIMAL+"e"}});