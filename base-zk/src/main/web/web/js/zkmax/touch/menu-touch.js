(function(){var b={};function a(h,d){if(h.isListen("onClick")){var g=jq(h.$n()).find("."+h.$s("separator")),f=zk(g),e=f.offsetWidth(),c=f.revisedOffset()[0];if(d.pageX>c+e-10){jq(h.$n()).addClass(h.$s("selected"));h.menupopup._shallClose=false;h._togglePopup();d.stop()}else{h.fireX(new zk.Event(h,"onClick",d.data))}}else{jq(h.$n()).addClass(h.isTopmost()?h.$s("selected"):h.$s("hover"));h.menupopup._shallClose=false;h._togglePopup()}}zk.override(zul.menu.Menu.prototype,b,{doClick_:function(c){if(this.menupopup){if(this.isTopmost()){this.getMenubar()._lastTarget=this}a(this,c)}else{var d=this._contentHandler;if(d&&!d.isOpen()){d.onShow()}}},doMouseOver_:zk.$void});zk.copy(zul.menu.Menu,{_rmActive:function(c){b._rmActive.apply(this,arguments);jq(c.$n()).removeClass(c.$s("selected"))}},b)})();