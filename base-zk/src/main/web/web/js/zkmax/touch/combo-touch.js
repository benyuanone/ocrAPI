(function(){var d={},a={},b=window.matchMedia("only screen and (min-device-width : 320px) and (max-device-width : 480px)").matches;function c(g){if(g._rodKid&&(!g.parent||!g.parent.z_rod)){delete g._rodKid;g._rodopen=true;var f=[];g.redrawpp_(f);jq("#"+g.uuid+"-pp").replaceWith(f.join(""));for(var e=g.firstChild;e;e=e.nextSibling){e.unbind();e.bind(g.desktop)}g.clearCache()}}zk.override(zul.inp.Combobox.prototype,d,{_scrollbar:null,_items:b?4:5,_itemHeight:b?55:60,_innerHeight:jq.innerHeight(),setAutodrop:zk.$void,bind_:function(){d.bind_.apply(this,arguments);zWatch.listen({onSize:this})},unbind_:function(){d.unbind_.apply(this,arguments);zWatch.unlisten({onSize:this})},onSize:function(){this._innerHeight=jq.innerHeight();d.onSize.apply(this,arguments)},_initBar:function(){var g={snap:"li",hscroll:false,hScrollbar:false,vScrollbar:true},f=this.$n("cave");if(f){var e=this._items*this._itemHeight;if(zk(f).offsetHeight()<e){f.style.height=jq.px(e)}this._scrollbar=new iScroll(f,g)}},_refreshBar:function(){var f=this._scrollbar;if(f){f.refresh();var g=this._sel;if(g){var e=g._node;f.scrollTo(0,-e.offsetHeight*e.rowIndex,0)}}},doFocus_:function(){d.doFocus_.apply(this,arguments);if(this._open){this.setOpen(false)}},onResponse:function(e,f){d.onResponse.apply(this,arguments);this._refreshBar()},redrawpp_:function(f){var g=this.uuid;f.push('<div id="',g,'-pp" class="',this.$s("popup")," ",this.getSclass(),' " style="display:none"><div id="',g,'-cave2"><ul id="',g,'-cave" class="',this.$s("content"),'" >');for(var e=this.firstChild;e;e=e.nextSibling){e.redraw(f)}f.push("</ul></div></div>")},close:function(g){d.close.apply(this,arguments);var e=this.getPopupNode_(),f=this._scrollbar;if(f){f.destroy();f=this._scrollbar=null}},open:function(f){c(this);if(this._open){return}this._open=true;if(f&&f.focus){this.focus()}var i=this.getPopupNode_();if(!i){return}this.setFloating_(true,{node:i});zWatch.fire("onFloatUp",this);var p=this,n=p.$n("cave2"),m=p.getInputNode(),k=i.style,l=n.style,h=jq.innerWidth()-20,o=p._items*p._itemHeight;k.width=l.width=jq.px(h);k.height=l.height=jq.px(o);var g=jq.now()+2000,e=p._innerHeight,j=function(){if(zk.android){if(!p._open){return}if(e-jq.innerHeight()>=5&&jq.now()<g){setTimeout(j,50);return}}k.position="absolute";k.display="block";var q=p.setTopmost(),r=zk(i);k.zIndex=q>0?q:1;k.top=jq.px(e);k.left=jq.px((jq.innerWidth()-jq(i).width())/2);r.makeVParent();zWatch.fireDown("onVParent",p);jq(i).transition({y:-o+"px",easing:"ease-in-out",duration:r.getAnimationSpeed(300)});p._hilite();p._initBar();p._refreshBar();if(f&&f.sendOnOpen){p.fire("onOpen",{open:true,value:m.value},{rtags:{onOpen:1}})}};j()}});zk.override(zul.inp.Comboitem.prototype,a,{_itemHeight:b?55:60,redraw:function(f){f.push("<li",this.domAttrs_({text:true}),' style="height: ',this._itemHeight,'px;"><span class="',this.$s("image"),'">',this.domImage_(),'</span><span class="',this.$s("text"),'">',this.domLabel_());var e;if(e=this._description){f.push('<br/><span class="',this.$s("inner"),'">',zUtl.encodeXML(e),"</span>")}if(e=this._content){f.push('<span class="',this.$s("content"),'">',e,"</span>")}f.push("</span></li>")}});zul.inp.InputCtrl.isPreservedFocus=function(e){return false};zul.inp.InputCtrl.isPreservedMouseMove=function(e){return false};zul.inp.InputCtrl.isIgnoredDragForErrorbox=function(j,k,e){var l=j.control.$n("c"),g=e.domTarget,f=jq(g),i=f.offset().left,h=f.offset().top;ignore=k[0]>=i-10&&k[0]<i+f.width()+10&&k[1]>=h-10&&k[1]<h+f.height()+10;return e.domTarget==l&&ignore}})();