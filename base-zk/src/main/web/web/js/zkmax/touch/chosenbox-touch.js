(function(){var a={};function b(f){var g=f.$n(),c=zk(f.$n("pp")),d=jq.innerHeight()/2,e=jq(g).offset().top;if(e<d){c.position(g,"after_start")}else{c.position(g,"before_start")}}zk.override(zkmax.inp.Chosenbox.prototype,a,{_scrollbar:null,bind_:function(){a.bind_.apply(this,arguments);this._ppMaxHeight=jq.innerHeight()/2-150;this._scrollbar=new iScroll(this.$n("sel"),{snap:"div",hideScrollbar:true});var c=this;jq(window).resize(function(){if(c._open){b(c)}})},unbind_:function(){a.unbind_.apply(this,arguments);var c=this._scrollbar;if(c){c.destroy();c=this._scrollbar=null}jq(window).unbind("resize")},_refreshBar:function(){var c=this._scrollbar;if(c){c.refresh()}},open:function(h,c,f){var g,d=c.style;this.setFloating_(true);var e=this.setTopmost();c.style.height=this._ppMaxHeight+"px";c.style.zIndex=e>0?e:1;c.style.display="block";zk(c).makeVParent();b(this);this._startFixDisplay({hliteFirst:true});if(f&&f.sendOnOpen){this.fire("onOpen",{open:true})}this._refreshBar()},_fixDisplay:function(c){a._fixDisplay.apply(this,arguments);this._refreshBar()}})})();