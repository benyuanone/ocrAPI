(function(){var a={};zk.override(zul.wnd.Window.prototype,a,{_scrollbar:null,bind_:function(){a.bind_.apply(this,arguments);var b=jq(this.$n("cave")).css("overflow");if(b.indexOf("auto")>-1||b.indexOf("scroll")>-1){this._scrollbar=new iScroll(this.$n("cave2"),{hideScrollbar:true,bounce:false})}},unbind_:function(){var b=this._scrollbar;if(b){b.destroy();b=this._scrollbar=null}a.unbind_.apply(this,arguments)},doResizeScroll_:function(){this.$supers("doResizeScroll_",arguments);this._refresh(false)},onSize:function(){a.onSize.apply(this,arguments);var b=this;if(b.isRealVisible()&&b.$n("cave").style.height){b.$n("cave2").style.height="100%"}b._refresh(true)},getCaveNode:function(){return this.$n("cave2")||this.$n()},_refresh:function(d){var h=this._scrollbar;if(h){var i=this.$n("cave2"),g=i.style,b=i.parentNode,e=zk(b),k=zk(i),f=e.revisedHeight(b.offsetHeight),j=e.revisedWidth(b.offsetWidth);g.height="";g.width="";if(i.offsetHeight&&i.offsetWidth){}g.height=jq.px(i.scrollHeight>f?i.scrollHeight:k.revisedHeight(f));g.width=jq.px(i.scrollWidth>j?i.scrollWidth:k.revisedWidth(j));h.refresh();if(d){h.scrollTo(0,0,0)}}},redraw:function(c,k){var b=this.uuid,h=this.getTitle(),j=this.caption,l=this.getContentStyle(),d=this.getContentSclass();c.push("<div",this.domAttrs_(),">");if(j||h){c.push('<div id="',b,'-cap" class="',this.$s("header"),'">');if(j){j.redraw(c)}else{var g=this.$s("icon");if(this._closable){c.push('<div id="',b,'-close" class="',g," ",this.$s("close"),'"><i class="',this.getClosableIconClass_(),'" /></div>')}if(this._maximizable){var f=this._maximized;c.push('<div id="',b,'-max" class="',g," ",this.$s("maximize"));if(f){c.push(" ",this.$s("maximized"))}var e=f?this.getMaximizedIconClass_():this.getMaximizableIconClass_();c.push('"><i class="',e,'" /></div>')}if(this._minimizable){c.push('<div id="',b,'-min" class="',g," ",this.$s("minimize"),'" ><i class="',this.getMinimizableIconClass_(),'" /></div>')}c.push(zUtl.encodeXML(h))}c.push("</div>")}c.push('<div id="',b,'-cave" class="');if(d){c.push(d," ")}c.push(this.$s("content"),'" ');if(l){c.push(' style="',l,'"')}c.push('><div id="',b,'-cave2">');if(!k){for(var i=this.firstChild;i;i=i.nextSibling){if(i!=j){i.redraw(c)}}}c.push("</div></div></div>")}})})();